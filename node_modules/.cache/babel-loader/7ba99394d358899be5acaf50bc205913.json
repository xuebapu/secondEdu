{"remainingRequest":"D:\\webStromAllSpace\\secondEdu\\node_modules\\babel-loader\\lib\\index.js!D:\\webStromAllSpace\\secondEdu\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\webStromAllSpace\\secondEdu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\webStromAllSpace\\secondEdu\\src\\views\\onlinePreview\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\webStromAllSpace\\secondEdu\\src\\views\\onlinePreview\\index.vue","mtime":1610964953828},{"path":"D:\\webStromAllSpace\\secondEdu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webStromAllSpace\\secondEdu\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\webStromAllSpace\\secondEdu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webStromAllSpace\\secondEdu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgb25saW5lUHJldmlldyB9IGZyb20gIi4uLy4uL2FwaS9hZG1pbiI7CmltcG9ydCBzY3JlZW5mdWxsIGZyb20gJ3NjcmVlbmZ1bGwnOwpleHBvcnQgZGVmYXVsdCB7CiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuYXV0b0hlaWdodCA9IHdpbmRvdy5zY3JlZW4uYXZhaWxIZWlnaHQgLSAxMDAgKyAicHgiOwogICAgY29uc29sZS5sb2codGhpcy5hdXRvSGVpZ2h0KTsKICAgIHRoaXMubG9hZCgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlc3VsdDogZmFsc2UsCiAgICAgIGF1dG9IZWlnaHQ6IDUwMCwKICAgICAgbGlzdDogW10sCiAgICAgIGluZGV4OiAwLAogICAgICBjdXJyZW50OiAiIiwKICAgICAgZnVsbFNjcmVlbjogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbGlja0Z1bGxzY3JlZW46IGZ1bmN0aW9uIGNsaWNrRnVsbHNjcmVlbigpIHsKICAgICAgc2NyZWVuZnVsbC50b2dnbGUoKTsKICAgICAgdGhpcy5mdWxsU2NyZWVuID0gIXRoaXMuZnVsbFNjcmVlbjsKICAgICAgdGhpcy5hdXRvSGVpZ2h0ID0gdGhpcy5mdWxsU2NyZWVuID8gd2luZG93LnNjcmVlbi5oZWlnaHQgKyAncHgnIDogd2luZG93LnNjcmVlbi5hdmFpbEhlaWdodCAtIDEwMCArICdweCc7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuYXV0b0hlaWdodCk7CiAgICB9LAogICAgY2hhbmdlOiBmdW5jdGlvbiBjaGFuZ2UoeCwgeSkgewogICAgICB0aGlzLmluZGV4ID0geTsKICAgICAgdGhpcy5jdXJyZW50ID0geDsKICAgIH0sCiAgICBjaGFuZ2VDdXJyZW50OiBmdW5jdGlvbiBjaGFuZ2VDdXJyZW50KHgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuaW5kZXggKz0geDsKCiAgICAgIGlmICh0aGlzLmluZGV4IDwgMCkgewogICAgICAgIHRoaXMuaW5kZXggPSAwOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaW5kZXggPj0gdGhpcy5saXN0Lmxlbmd0aCkgewogICAgICAgIHRoaXMuaW5kZXggPSB0aGlzLmxpc3QubGVuZ3RoIC0gMTsKICAgICAgfQoKICAgICAgdGhpcy5saXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW0sIGkpIHsKICAgICAgICBpZiAoaSA9PSBfdGhpcy5pbmRleCkgewogICAgICAgICAgX3RoaXMuY3VycmVudCA9IGVsZW07CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBsb2FkOiBmdW5jdGlvbiBsb2FkKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMucmVzdWx0ID0gZmFsc2U7CiAgICAgIHZhciBvYmogPSB7CiAgICAgICAgdXJsOiB0aGlzLiRyb3V0ZS5xdWVyeS51cmwsCiAgICAgICAgdHlwZTogdGhpcy4kcm91dGUucXVlcnkudHlwZQogICAgICB9OwogICAgICBvbmxpbmVQcmV2aWV3KG9iaikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmxpc3QgPSByZXMuZGF0YS5pbWFnZVVybHM7CiAgICAgICAgX3RoaXMyLmN1cnJlbnQgPSByZXMuZGF0YS5pbWFnZVVybHNbMF07CiAgICAgICAgX3RoaXMyLnJlc3VsdCA9IHRydWU7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,SAAA,aAAA,QAAA,iBAAA;AACA,OAAA,UAAA,MAAA,YAAA;AACA,eAAA;AACA,EAAA,OADA,qBACA;AACA,SAAA,UAAA,GAAA,MAAA,CAAA,MAAA,CAAA,WAAA,GAAA,GAAA,GAAA,IAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,KAAA,UAAA;AACA,SAAA,IAAA;AACA,GALA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,UAAA,EAAA,GAFA;AAGA,MAAA,IAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA,CAJA;AAKA,MAAA,OAAA,EAAA,EALA;AAMA,MAAA,UAAA,EAAA;AANA,KAAA;AAQA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,6BACA;AACA,MAAA,UAAA,CAAA,MAAA;AACA,WAAA,UAAA,GAAA,CAAA,KAAA,UAAA;AACA,WAAA,UAAA,GAAA,KAAA,UAAA,GAAA,MAAA,CAAA,MAAA,CAAA,MAAA,GAAA,IAAA,GAAA,MAAA,CAAA,MAAA,CAAA,WAAA,GAAA,GAAA,GAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,UAAA;AACA,KANA;AAOA,IAAA,MAPA,kBAOA,CAPA,EAOA,CAPA,EAOA;AACA,WAAA,KAAA,GAAA,CAAA;AACA,WAAA,OAAA,GAAA,CAAA;AACA,KAVA;AAWA,IAAA,aAXA,yBAWA,CAXA,EAWA;AAAA;;AACA,WAAA,KAAA,IAAA,CAAA;;AACA,UAAA,KAAA,KAAA,GAAA,CAAA,EAAA;AACA,aAAA,KAAA,GAAA,CAAA;AACA,OAFA,MAEA,IAAA,KAAA,KAAA,IAAA,KAAA,IAAA,CAAA,MAAA,EAAA;AACA,aAAA,KAAA,GAAA,KAAA,IAAA,CAAA,MAAA,GAAA,CAAA;AACA;;AACA,WAAA,IAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA,CAAA,EAAA;AACA,YAAA,CAAA,IAAA,KAAA,CAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AACA;AACA,OAJA;AAKA,KAvBA;AAwBA,IAAA,IAxBA,kBAwBA;AAAA;;AACA,WAAA,MAAA,GAAA,KAAA;AACA,UAAA,GAAA,GAAA;AACA,QAAA,GAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,GADA;AAEA,QAAA,IAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA;AAFA,OAAA;AAIA,MAAA,aAAA,CAAA,GAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,SAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA,CAAA,SAAA,CAAA,CAAA,CAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OALA;AAMA;AApCA;AAhBA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"con\">\r\n      <div class=\"leftList\" :style=\"{height:autoHeight}\" v-if=\"!fullScreen\">\r\n        <el-scrollbar style=\"height:99%\">\r\n          <div\r\n            class=\"item\"\r\n            v-for=\"(elem,i) of list\"\r\n            :key=\"i\"\r\n            :class=\"index==i?'active':''\"\r\n            @click=\"change(elem,i)\"\r\n          >\r\n            <span>{{i+1}}</span>\r\n            <img :src=\"elem\" />\r\n          </div>\r\n        </el-scrollbar>\r\n      </div>\r\n      <div class=\"rightShow\"  v-if=\"result\" :style=\"{width:fullScreen?'100%':'80%',height:autoHeight}\">\r\n        <img class=\"currentPic\" :src=\"current\" :style=\"{height:fullScreen?'90%':'80%'}\" />\r\n        <div class=\"btns\">\r\n          <button @click=\"changeCurrent(-1)\">上一页</button>\r\n           <button @click=\"changeCurrent(+1)\">下一页</button>\r\n           <button @click=\"clickFullscreen\">{{fullScreen?'退出全屏':'全屏'}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { onlinePreview } from \"../../api/admin\";\r\nimport screenfull from 'screenfull'\r\nexport default {\r\n  created() {\r\n    this.autoHeight = window.screen.availHeight - 100 + \"px\";\r\n    console.log(this.autoHeight);\r\n    this.load();\r\n  },\r\n  data() {\r\n    return {\r\n      result: false,\r\n      autoHeight: 500,\r\n      list: [],\r\n      index: 0,\r\n      current: \"\",\r\n      fullScreen:false,\r\n    };\r\n  },\r\n  methods: {\r\n     clickFullscreen(){\r\n        screenfull.toggle()\r\n        this.fullScreen=!this.fullScreen\r\n        this.autoHeight=this.fullScreen?window.screen.height+'px': window.screen.availHeight - 100+'px'\r\n        console.log(this.autoHeight)\r\n      },\r\n    change(x, y) {\r\n      this.index = y;\r\n      this.current = x;\r\n    },\r\n    changeCurrent(x){\r\n      this.index+=x\r\n      if(this.index<0){\r\n        this.index=0\r\n      }else if(this.index>=this.list.length){\r\n         this.index=this.list.length-1\r\n      }\r\n      this.list.forEach((elem,i)=>{\r\n        if(i==this.index){\r\n          this.current=elem\r\n        }\r\n      })\r\n    },\r\n    load() {\r\n      this.result = false;\r\n      let obj = {\r\n        url: this.$route.query.url,\r\n        type: this.$route.query.type,\r\n      };\r\n      onlinePreview(obj).then((res) => {\r\n        this.list = res.data.imageUrls;\r\n        this.current = res.data.imageUrls[0];\r\n        this.result = true;\r\n        console.log(res);\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.con {\r\n  background: #0e0e0e;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  .leftList {\r\n    width: 16%;\r\n    overflow: hidden;\r\n    border-right: 1px solid rgba(255, 255, 255, 0.2);\r\n    box-shadow: 0 0 17px 2px rgba(255, 255, 255, 0.5);\r\n    .item {\r\n      width: 99%;\r\n      margin: 15px 0;\r\n      padding: 15px 0;\r\n      display: flex;\r\n      justify-content: space-around;\r\n      cursor: pointer;\r\n      span {\r\n        color: #666;\r\n      }\r\n      img {\r\n        width: 80%;\r\n      }\r\n    }\r\n    .item:hover {\r\n      border: 1px solid rgba(255, 255, 255, 0.2);\r\n      box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.5) inset;\r\n    }\r\n    .active {\r\n      border: 1px solid rgba(255, 255, 255, 0.2);\r\n      box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.5) inset;\r\n    }\r\n  }\r\n  .rightShow {\r\n    width: 80%;\r\n    .currentPic {\r\n      display: block;\r\n      object-fit:fill;\r\n      width: 90%;\r\n      // height: 80%;\r\n      margin: 30px auto 30px;\r\n    }\r\n    .btns{\r\n      width: 70%;\r\n      margin: 0 auto;\r\n      text-align: center;\r\n      button{\r\n        width:20%;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/views/onlinePreview"}]}