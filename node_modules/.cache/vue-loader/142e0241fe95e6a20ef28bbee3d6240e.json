{"remainingRequest":"D:\\webStromAllSpace\\secondEdu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\webStromAllSpace\\secondEdu\\src\\views\\onlinePreview\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\webStromAllSpace\\secondEdu\\src\\views\\onlinePreview\\index.vue","mtime":1610964953828},{"path":"D:\\webStromAllSpace\\secondEdu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webStromAllSpace\\secondEdu\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\webStromAllSpace\\secondEdu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webStromAllSpace\\secondEdu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBvbmxpbmVQcmV2aWV3IH0gZnJvbSAiLi4vLi4vYXBpL2FkbWluIjsNCmltcG9ydCBzY3JlZW5mdWxsIGZyb20gJ3NjcmVlbmZ1bGwnDQpleHBvcnQgZGVmYXVsdCB7DQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5hdXRvSGVpZ2h0ID0gd2luZG93LnNjcmVlbi5hdmFpbEhlaWdodCAtIDEwMCArICJweCI7DQogICAgY29uc29sZS5sb2codGhpcy5hdXRvSGVpZ2h0KTsNCiAgICB0aGlzLmxvYWQoKTsNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcmVzdWx0OiBmYWxzZSwNCiAgICAgIGF1dG9IZWlnaHQ6IDUwMCwNCiAgICAgIGxpc3Q6IFtdLA0KICAgICAgaW5kZXg6IDAsDQogICAgICBjdXJyZW50OiAiIiwNCiAgICAgIGZ1bGxTY3JlZW46ZmFsc2UsDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgICBjbGlja0Z1bGxzY3JlZW4oKXsNCiAgICAgICAgc2NyZWVuZnVsbC50b2dnbGUoKQ0KICAgICAgICB0aGlzLmZ1bGxTY3JlZW49IXRoaXMuZnVsbFNjcmVlbg0KICAgICAgICB0aGlzLmF1dG9IZWlnaHQ9dGhpcy5mdWxsU2NyZWVuP3dpbmRvdy5zY3JlZW4uaGVpZ2h0KydweCc6IHdpbmRvdy5zY3JlZW4uYXZhaWxIZWlnaHQgLSAxMDArJ3B4Jw0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmF1dG9IZWlnaHQpDQogICAgICB9LA0KICAgIGNoYW5nZSh4LCB5KSB7DQogICAgICB0aGlzLmluZGV4ID0geTsNCiAgICAgIHRoaXMuY3VycmVudCA9IHg7DQogICAgfSwNCiAgICBjaGFuZ2VDdXJyZW50KHgpew0KICAgICAgdGhpcy5pbmRleCs9eA0KICAgICAgaWYodGhpcy5pbmRleDwwKXsNCiAgICAgICAgdGhpcy5pbmRleD0wDQogICAgICB9ZWxzZSBpZih0aGlzLmluZGV4Pj10aGlzLmxpc3QubGVuZ3RoKXsNCiAgICAgICAgIHRoaXMuaW5kZXg9dGhpcy5saXN0Lmxlbmd0aC0xDQogICAgICB9DQogICAgICB0aGlzLmxpc3QuZm9yRWFjaCgoZWxlbSxpKT0+ew0KICAgICAgICBpZihpPT10aGlzLmluZGV4KXsNCiAgICAgICAgICB0aGlzLmN1cnJlbnQ9ZWxlbQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgbG9hZCgpIHsNCiAgICAgIHRoaXMucmVzdWx0ID0gZmFsc2U7DQogICAgICBsZXQgb2JqID0gew0KICAgICAgICB1cmw6IHRoaXMuJHJvdXRlLnF1ZXJ5LnVybCwNCiAgICAgICAgdHlwZTogdGhpcy4kcm91dGUucXVlcnkudHlwZSwNCiAgICAgIH07DQogICAgICBvbmxpbmVQcmV2aWV3KG9iaikudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMubGlzdCA9IHJlcy5kYXRhLmltYWdlVXJsczsNCiAgICAgICAgdGhpcy5jdXJyZW50ID0gcmVzLmRhdGEuaW1hZ2VVcmxzWzBdOw0KICAgICAgICB0aGlzLnJlc3VsdCA9IHRydWU7DQogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICB9KTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/onlinePreview","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"con\">\r\n      <div class=\"leftList\" :style=\"{height:autoHeight}\" v-if=\"!fullScreen\">\r\n        <el-scrollbar style=\"height:99%\">\r\n          <div\r\n            class=\"item\"\r\n            v-for=\"(elem,i) of list\"\r\n            :key=\"i\"\r\n            :class=\"index==i?'active':''\"\r\n            @click=\"change(elem,i)\"\r\n          >\r\n            <span>{{i+1}}</span>\r\n            <img :src=\"elem\" />\r\n          </div>\r\n        </el-scrollbar>\r\n      </div>\r\n      <div class=\"rightShow\"  v-if=\"result\" :style=\"{width:fullScreen?'100%':'80%',height:autoHeight}\">\r\n        <img class=\"currentPic\" :src=\"current\" :style=\"{height:fullScreen?'90%':'80%'}\" />\r\n        <div class=\"btns\">\r\n          <button @click=\"changeCurrent(-1)\">上一页</button>\r\n           <button @click=\"changeCurrent(+1)\">下一页</button>\r\n           <button @click=\"clickFullscreen\">{{fullScreen?'退出全屏':'全屏'}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { onlinePreview } from \"../../api/admin\";\r\nimport screenfull from 'screenfull'\r\nexport default {\r\n  created() {\r\n    this.autoHeight = window.screen.availHeight - 100 + \"px\";\r\n    console.log(this.autoHeight);\r\n    this.load();\r\n  },\r\n  data() {\r\n    return {\r\n      result: false,\r\n      autoHeight: 500,\r\n      list: [],\r\n      index: 0,\r\n      current: \"\",\r\n      fullScreen:false,\r\n    };\r\n  },\r\n  methods: {\r\n     clickFullscreen(){\r\n        screenfull.toggle()\r\n        this.fullScreen=!this.fullScreen\r\n        this.autoHeight=this.fullScreen?window.screen.height+'px': window.screen.availHeight - 100+'px'\r\n        console.log(this.autoHeight)\r\n      },\r\n    change(x, y) {\r\n      this.index = y;\r\n      this.current = x;\r\n    },\r\n    changeCurrent(x){\r\n      this.index+=x\r\n      if(this.index<0){\r\n        this.index=0\r\n      }else if(this.index>=this.list.length){\r\n         this.index=this.list.length-1\r\n      }\r\n      this.list.forEach((elem,i)=>{\r\n        if(i==this.index){\r\n          this.current=elem\r\n        }\r\n      })\r\n    },\r\n    load() {\r\n      this.result = false;\r\n      let obj = {\r\n        url: this.$route.query.url,\r\n        type: this.$route.query.type,\r\n      };\r\n      onlinePreview(obj).then((res) => {\r\n        this.list = res.data.imageUrls;\r\n        this.current = res.data.imageUrls[0];\r\n        this.result = true;\r\n        console.log(res);\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.con {\r\n  background: #0e0e0e;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  .leftList {\r\n    width: 16%;\r\n    overflow: hidden;\r\n    border-right: 1px solid rgba(255, 255, 255, 0.2);\r\n    box-shadow: 0 0 17px 2px rgba(255, 255, 255, 0.5);\r\n    .item {\r\n      width: 99%;\r\n      margin: 15px 0;\r\n      padding: 15px 0;\r\n      display: flex;\r\n      justify-content: space-around;\r\n      cursor: pointer;\r\n      span {\r\n        color: #666;\r\n      }\r\n      img {\r\n        width: 80%;\r\n      }\r\n    }\r\n    .item:hover {\r\n      border: 1px solid rgba(255, 255, 255, 0.2);\r\n      box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.5) inset;\r\n    }\r\n    .active {\r\n      border: 1px solid rgba(255, 255, 255, 0.2);\r\n      box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.5) inset;\r\n    }\r\n  }\r\n  .rightShow {\r\n    width: 80%;\r\n    .currentPic {\r\n      display: block;\r\n      object-fit:fill;\r\n      width: 90%;\r\n      // height: 80%;\r\n      margin: 30px auto 30px;\r\n    }\r\n    .btns{\r\n      width: 70%;\r\n      margin: 0 auto;\r\n      text-align: center;\r\n      button{\r\n        width:20%;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"]}]}