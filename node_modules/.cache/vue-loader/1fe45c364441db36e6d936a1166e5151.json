{"remainingRequest":"D:\\webStromAllSpace\\secondEdu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\webStromAllSpace\\secondEdu\\src\\views\\live\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\webStromAllSpace\\secondEdu\\src\\views\\live\\index.vue","mtime":1610964953823},{"path":"D:\\webStromAllSpace\\secondEdu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webStromAllSpace\\secondEdu\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\webStromAllSpace\\secondEdu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webStromAllSpace\\secondEdu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBsaXZlSW5kZXgsbGl2ZUlkIH0gZnJvbSAiQC9hcGkvbGl2ZSI7DQppbXBvcnQgeyBmb3JtYXREYXRlLGdldFRyZWVEYXRhIH0gZnJvbSAiQC91dGlscy9pbmRleCI7DQppbXBvcnQgZmx2anMgZnJvbSAiZmx2LmpzIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiaGVscEluZGV4IiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgYmFjQmFzZTp0aGlzLiRzdG9yZS5nZXR0ZXJzLmJhY0Jhc2UsDQogICAgICBsaXZlczogW10sDQogICAgICBwYWdlTnVtOjEsDQogICAgICBwYWdlU2l6ZTogMTMsDQogICAgICBvcmRlckJ5Q29sdW1uOiAiY3JlYXRlVGltZSIsDQogICAgICBpc0FzYzogImRlc2MiLA0KICAgICAgY3VycmVudDogZmFsc2UsDQogICAgICB2aWRlb1VybDogIiIsDQogICAgICBpZFNlbGVjdDogIiIsDQogICAgICBzdWJqZWN0SWQ6ICIiLA0KICAgICAgbWVldE5hbWU6ICIiLA0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5pZFNlbGVjdCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkOw0KICAgIHRoaXMubG9hZCgpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy/nm7Tmkq3lhaXlj6MNCiAgICBlbnRyYW5jZUxpdmUoaHJlZil7DQogICAgICB3aW5kb3cub3BlbihocmVmLCdfYmxhbmsnKQ0KICAgIH0sDQogICAgY2hhbmdlKGl0ZW0pIHsNCiAgICAgIC8vICAgY29uc29sZS5sb2coaXRlbSk7DQogICAgICBpZiAoaXRlbS5pZCAhPSB0aGlzLmlkU2VsZWN0KSB7DQogICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsNCiAgICAgICAgICBwYXRoOiAiL2xpdmUiLA0KICAgICAgICAgIHF1ZXJ5OiB7IGlkOiBpdGVtLmlkIH0NCiAgICAgICAgfSk7DQogICAgICAgIHRoaXMuaWRTZWxlY3QgPSBpdGVtLmlkOw0KICAgICAgICB0aGlzLmN1cnJlbnQgPSBpdGVtOw0KICAgICAgICB0aGlzLmN1cnJlbnQuc3RpbWUgPSBmb3JtYXREYXRlKHRoaXMuY3VycmVudC5zdFRpbWUpOw0KICAgICAgICB0aGlzLmN1cnJlbnQuZXRpbWUgPSBmb3JtYXREYXRlKHRoaXMuY3VycmVudC5lbmRUaW1lKTsNCiAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQudmlkZW8pIHsNCiAgICAgICAgICAgIGxldCB2aWRlb1VybCA9IHRoaXMuY3VycmVudC52aWRlbzsNCiAgICAgICAgICAgIHZpZGVvVXJsID0gdGhpcy5iYWNCYXNlICsgdmlkZW9Vcmw7DQogICAgICAgICAgICBsZXQgdHlwZSA9IHRoaXMuY3VycmVudC52aWRlby5zcGxpdCgiLiIpWzFdOw0KICAgICAgICAgICAgaWYgKGZsdmpzLmlzU3VwcG9ydGVkKCkpIHsNCiAgICAgICAgICAgICAgdmFyIHZpZGVvRWxlbWVudCA9IHRoaXMuJHJlZnMudmlkZW9FbGVtZW50Ow0KICAgICAgICAgICAgICB2YXIgZmx2UGxheWVyID0gZmx2anMuY3JlYXRlUGxheWVyKHsNCiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLA0KICAgICAgICAgICAgICAgIHVybDogdmlkZW9VcmwNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIGZsdlBsYXllci5hdHRhY2hNZWRpYUVsZW1lbnQodmlkZW9FbGVtZW50KTsNCiAgICAgICAgICAgICAgZmx2UGxheWVyLmxvYWQoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBsb2FkKCkgew0KDQogICAgICBsaXZlSWQodGhpcy5pZFNlbGVjdCkudGhlbihyZXMgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICB0aGlzLmN1cnJlbnQgPSByZXMuZGF0YTsNCiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnQpDQogICAgICAgICAgdGhpcy5jdXJyZW50LnN0aW1lID0gZm9ybWF0RGF0ZSh0aGlzLmN1cnJlbnQuc3RUaW1lKQ0KICAgICAgICAgIHRoaXMuY3VycmVudC5ldGltZSA9IGZvcm1hdERhdGUodGhpcy5jdXJyZW50LmVuZFRpbWUpOw0KICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQudmlkZW8pIHsNCiAgICAgICAgICAgIGxldCB2aWRlb1VybCA9IHRoaXMuY3VycmVudC52aWRlbzsNCiAgICAgICAgICAgIHZpZGVvVXJsID0gdGhpcy5iYWNCYXNlICsgdmlkZW9Vcmw7DQogICAgICAgICAgICBsZXQgdHlwZSA9IHRoaXMuY3VycmVudC52aWRlby5zcGxpdCgiLiIpWzFdOw0KICAgICAgICAgICAgaWYgKGZsdmpzLmlzU3VwcG9ydGVkKCkpIHsNCiAgICAgICAgICAgICAgdmFyIHZpZGVvRWxlbWVudCA9IHRoaXMuJHJlZnMudmlkZW9FbGVtZW50Ow0KICAgICAgICAgICAgICB2YXIgZmx2UGxheWVyID0gZmx2anMuY3JlYXRlUGxheWVyKHsNCiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLA0KICAgICAgICAgICAgICAgIHVybDogdmlkZW9VcmwNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIGZsdlBsYXllci5hdHRhY2hNZWRpYUVsZW1lbnQodmlkZW9FbGVtZW50KTsNCiAgICAgICAgICAgICAgZmx2UGxheWVyLmxvYWQoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubGl2ZXMpOw0KICANCiAgICAgICAgbGV0IGRhdGEgPSB7IA0KICAgICAgICAgIG1lZXROYW1lOiB0aGlzLm1lZXROYW1lLCANCiAgICAgICAgICBzdWJqZWN0SWQ6IHRoaXMuc3ViamVjdElkLA0KICAgICAgICAgIHBhZ2VOdW06dGhpcy5wYWdlTnVtLA0KICAgICAgICAgIHBhZ2VTaXplOnRoaXMucGFnZVNpemUsDQogICAgICAgICAgb3JkZXJCeUNvbHVtbjp0aGlzLm9yZGVyQnlDb2x1bW4sDQogICAgICAgICAgaXNBc2M6dGhpcy5pc0FzYw0KICAgICAgICAgIH07DQogICAgICAgIGNvbnNvbGUubG9nKGRhdGEpDQogICAgICBsaXZlSW5kZXgoZGF0YSkudGhlbihyZXMgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICB0aGlzLmxpdmVzID0gcmVzLmRhdGE7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubGl2ZXMpOw0KICAgICAgfSk7DQogICAgfSwNCiAgICAgaGFuZGxlQ2hhbmdlKHZhbHVlKSB7DQogICAgICAgIHRoaXMuc3ViamVjdElkPXZhbHVlW3ZhbHVlLmxlbmd0aC0xXQ0KICAgIC8vICAgY29uc29sZS5sb2codGhpcy5mb3JtTGFiZWxBbGlnbi5zdWJqZWN0KTsNCiAgICB9LA0KICB9DQp9Ow0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyLA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/live","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"section\">\r\n      <div class=\"title\">会议直播</div>\r\n      <div class=\"content\">\r\n        <div class=\"left\">\r\n          <div class=\"info\">\r\n            <div class=\"img-box\" v-if=\"current\">\r\n              <el-image\r\n                style=\"width: 300px; height: 250px\"\r\n                :src=\"`${bacBase}${current.picture}`\"\r\n                fit=\"fill\"\r\n              ></el-image>\r\n            </div>\r\n            <div class=\"word\">\r\n              <div class=\"word-row\">会议名称：{{current.meetName}} </div>\r\n              <div class=\"word-row\">主办单位：{{current.host}}</div>\r\n              <div class=\"word-row\">协办单位：{{current.assist}}</div>\r\n              <div class=\"word-row\">承办单位：{{current.undertake}}</div>\r\n              <div class=\"word-row\">学科：{{current.subject}}</div>\r\n              <div class=\"word-row\">直播时间：{{current.stime}} ~ {{current.etime}}</div>\r\n                 <div class=\"word-row\"><button id=\"entranceLive\" @click=\"entranceLive(current.link)\">直播入口</button></div>\r\n            </div>\r\n          </div>\r\n          <!-- <div class=\"link\">\r\n            <el-link type=\"danger\" :href=\"current.link\" target=\"_blank\">直播入口</el-link>\r\n          </div> -->\r\n          <div class=\"left-section\">\r\n            <div class=\"left-title\">会议简介</div>\r\n            <div class=\"left-info\" v-html=\"current.synopsis\"></div>\r\n          </div>\r\n          <div class=\"left-section\">\r\n            <div class=\"left-title\">\r\n              精彩回放\r\n              <!-- <span class=\"more\">更多</span> -->\r\n            </div>\r\n            <div class=\"left-info\">\r\n              <div class=\"video-box\" v-show=\"current.video\">\r\n                <video\r\n                  class=\"video\"\r\n                  id=\"videoElement\"\r\n                  controls\r\n                  :src=\"videoUrl\"\r\n                  ref=\"videoElement\"\r\n                  height=\"300px\"\r\n                ></video>\r\n              </div>\r\n              <div v-show=\"!current\">暂无回放</div>\r\n              <!-- <div class=\"info-row\">\r\n                                <el-link type=\"primary\">2019第九届北京协和医院多学科协作(MDT)神经急重症高峰论坛</el-link>\r\n                            </div>\r\n                            <div class=\"info-row\">\r\n                                <el-link type=\"primary\">2019第九届北京协和医院多学科协作(MDT)神经急重症高峰论坛</el-link>\r\n                            </div>\r\n                            <div class=\"info-row\">\r\n                                <el-link type=\"primary\">2019第九届北京协和医院多学科协作(MDT)神经急重症高峰论坛</el-link>\r\n              </div>-->\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"right\">\r\n          <div class=\"right-title\">近期会议</div>\r\n          <div class=\"list\" v-if=\"lives.length\">\r\n            <!-- <el-scrollbar style=\"height:100%;width:100%\"> -->\r\n            <div\r\n              class=\"item\"\r\n              :class=\"idSelect==item.id?'active':''\"\r\n              v-for=\"item in lives\"\r\n              :key=\"item.id\"\r\n            >\r\n              <el-link type=\"success\" @click=\"change(item)\">{{item.meetName}}</el-link>\r\n            </div>\r\n            <!-- </el-scrollbar> -->\r\n          </div>\r\n          <div class=\"tip\" v-else>暂无数据</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n#entranceLive{\r\n  padding: 3px 40px;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  background: #49af4f;\r\n  color: #fff;\r\n  border: 0;\r\n  outline: 0;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n#entranceLive:hover{\r\n  background: #38cf40;\r\n}\r\n.container {\r\n  width: 1200px;\r\n margin: 20px auto;\r\n  overflow: hidden;\r\n}\r\n.section {\r\n  width: 100%;\r\n  margin: 20px 0;\r\n  font-size: 14px;\r\n  .title {\r\n    font-size: 16px;\r\n    height: 40px;\r\n    line-height: 40px;\r\n    background: #49af4f;\r\n    color: #fff;\r\n    padding-left: 11px;\r\n  }\r\n  .content {\r\n    margin-top: 10px;\r\n    overflow: hidden;\r\n    .left {\r\n      width: 70%;\r\n      float: left;\r\n      .left-section {\r\n        margin: 15px 0;\r\n      }\r\n      .left-title {\r\n        @extend .title;\r\n        .more {\r\n          display: block;\r\n          float: right;\r\n          margin-right: 8px;\r\n          font-size: 14px;\r\n          cursor: pointer;\r\n        }\r\n      }\r\n      .left-info {\r\n        padding: 11px;\r\n        ::v-deep img{\r\n            max-width: 100%;\r\n        }\r\n      }\r\n      .info-row {\r\n        margin: 10px 0;\r\n      }\r\n    }\r\n    .right {\r\n      float: right;\r\n      width: 25%;\r\n      height: 600px;\r\n      border: 1px solid #ccc;\r\n      .right-title {\r\n        @extend .title;\r\n        text-align: center;\r\n        padding: 0;\r\n      }\r\n      .list {\r\n        height: 540px;\r\n        overflow-y: auto;\r\n        .item {\r\n          padding: 10px 10px;\r\n        }\r\n        .active {\r\n          background: #deebf7;\r\n        }\r\n      }\r\n      .tip {\r\n        text-align: center;\r\n        margin-top: 50px;\r\n      }\r\n    }\r\n    .info {\r\n      display: flex;\r\n      justify-content: start;\r\n      align-items: center;\r\n      padding: 0 11px;\r\n      .word {\r\n        margin-left: 30px;\r\n        .word-row {\r\n          margin: 10px 0;\r\n        }\r\n      }\r\n    }\r\n    .link {\r\n      margin: 10px 11px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n<script>\r\nimport { liveIndex,liveId } from \"@/api/live\";\r\nimport { formatDate,getTreeData } from \"@/utils/index\";\r\nimport flvjs from \"flv.js\";\r\n\r\nexport default {\r\n  name: \"helpIndex\",\r\n  data() {\r\n    return {\r\n      bacBase:this.$store.getters.bacBase,\r\n      lives: [],\r\n      pageNum:1,\r\n      pageSize: 13,\r\n      orderByColumn: \"createTime\",\r\n      isAsc: \"desc\",\r\n      current: false,\r\n      videoUrl: \"\",\r\n      idSelect: \"\",\r\n      subjectId: \"\",\r\n      meetName: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.idSelect = this.$route.query.id;\r\n    this.load();\r\n  },\r\n  methods: {\r\n    //直播入口\r\n    entranceLive(href){\r\n      window.open(href,'_blank')\r\n    },\r\n    change(item) {\r\n      //   console.log(item);\r\n      if (item.id != this.idSelect) {\r\n        this.$router.replace({\r\n          path: \"/live\",\r\n          query: { id: item.id }\r\n        });\r\n        this.idSelect = item.id;\r\n        this.current = item;\r\n        this.current.stime = formatDate(this.current.stTime);\r\n        this.current.etime = formatDate(this.current.endTime);\r\n         if (this.current.video) {\r\n            let videoUrl = this.current.video;\r\n            videoUrl = this.bacBase + videoUrl;\r\n            let type = this.current.video.split(\".\")[1];\r\n            if (flvjs.isSupported()) {\r\n              var videoElement = this.$refs.videoElement;\r\n              var flvPlayer = flvjs.createPlayer({\r\n                type: type,\r\n                url: videoUrl\r\n              });\r\n              flvPlayer.attachMediaElement(videoElement);\r\n              flvPlayer.load();\r\n            }\r\n          }\r\n      }\r\n    },\r\n    load() {\r\n\r\n      liveId(this.idSelect).then(res => {\r\n        console.log(res);\r\n        this.current = res.data;\r\n          console.log(this.current)\r\n          this.current.stime = formatDate(this.current.stTime)\r\n          this.current.etime = formatDate(this.current.endTime);\r\n          if (this.current.video) {\r\n            let videoUrl = this.current.video;\r\n            videoUrl = this.bacBase + videoUrl;\r\n            let type = this.current.video.split(\".\")[1];\r\n            if (flvjs.isSupported()) {\r\n              var videoElement = this.$refs.videoElement;\r\n              var flvPlayer = flvjs.createPlayer({\r\n                type: type,\r\n                url: videoUrl\r\n              });\r\n              flvPlayer.attachMediaElement(videoElement);\r\n              flvPlayer.load();\r\n            }\r\n          }\r\n        })\r\n        // console.log(this.lives);\r\n  \r\n        let data = { \r\n          meetName: this.meetName, \r\n          subjectId: this.subjectId,\r\n          pageNum:this.pageNum,\r\n          pageSize:this.pageSize,\r\n          orderByColumn:this.orderByColumn,\r\n          isAsc:this.isAsc\r\n          };\r\n        console.log(data)\r\n      liveIndex(data).then(res => {\r\n        console.log(res);\r\n        this.lives = res.data;\r\n        // console.log(this.lives);\r\n      });\r\n    },\r\n     handleChange(value) {\r\n        this.subjectId=value[value.length-1]\r\n    //   console.log(this.formLabelAlign.subject);\r\n    },\r\n  }\r\n};\r\n</script>"]}]}